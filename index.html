<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>HARPA Field Tool</title>
    <link rel="stylesheet" href="styles.css">
    <!-- QR Code Scanner Library -->
    <script src="https://unpkg.com/html5-qrcode" type="text/javascript"></script>
</head>
<body>

    <!-- HEADER -->
    <header id="app-header">
        <div class="top-row">
            <div class="store-info">
                <span id="disp-store">Store: --</span>
                <span id="disp-pog">POG: --</span>
            </div>
            <div class="top-actions">
                <button id="btn-pdf" class="secondary-btn">ðŸ“„ PDF</button>
                <button id="btn-switch-store" class="secondary-btn">ðŸ”„ Switch</button>
            </div>
        </div>
        
        <button id="btn-scan" class="primary-btn">ðŸ“· SCAN BARCODE</button>
        
        <div class="manual-entry">
            <input type="number" id="input-manual" placeholder="Enter UPC manually...">
            <button id="btn-manual-go">GO</button>
        </div>
        <div id="scanner-debug">Last Scanned: None</div>

        <div class="nav-row">
            <button id="nav-prev" class="nav-arrow">&lt;</button>
            <div class="bay-indicator">
                <span id="disp-bay">Bay 1 of 3</span>
                <div class="progress-track">
                    <div id="progress-fill" class="progress-fill"></div>
                </div>
            </div>
            <button id="nav-next" class="nav-arrow">&gt;</button>
        </div>
    </header>

    <!-- MAIN WORKSPACE -->
    <main id="workspace">
        <div id="pegboard" class="pegboard">
            <!-- Grid and Products rendered via JS -->
        </div>
        <div id="swipe-overlay" class="hidden">1</div>
    </main>

    <!-- MODAL: STORE SELECT -->
    <div id="modal-store" class="modal active">
        <div class="modal-content">
            <h2>Select Store</h2>
            <p>Enter Store Number to Load POG</p>
            <input type="number" id="input-store-login" placeholder="Store # (e.g., 5)">
            <button id="btn-load-store">Load Planogram</button>
            <p id="login-error" class="error-msg"></p>
        </div>
    </div>

    <!-- MODAL: PDF VIEW -->
    <div id="modal-pdf" class="modal">
        <div class="modal-content full-screen">
            <button class="close-modal" onclick="closeModal('modal-pdf')">Close PDF</button>
            <iframe id="pdf-frame" src=""></iframe>
        </div>
    </div>

    <!-- MODAL: SCANNER -->
    <div id="modal-scanner" class="modal">
        <div class="modal-content full-screen scanner-wrapper">
            <div id="reader"></div>
            <button class="close-modal" onclick="stopScanner()">Close Camera</button>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
